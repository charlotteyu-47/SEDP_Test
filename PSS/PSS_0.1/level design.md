# level design
**关卡编号**  
* 0： 教学关  
* 1-3: 普通关卡  
* 4: 结局  
	
**通用规则：**   
  最大血量（不含护甲）= 5  
  buff: 速度提升/无视伤害护甲  
  同类buff/debuff效果不会叠加，只会刷新时长  


## 1. Obstacle overview

| 名称              | 变体                  | 效果（Effect）                                     | 速度                     |
| --------------- | ------------------- | ---------------------------------------------- | ---------------------- |
| **large car**   | 公交 / 救护车 / 卡车 / 消防车 | -5（立刻死亡）                                       | 0.6–0.8 × 玩家当前速度       |
| **small car**   | 警车 / 各色轿车 / 拖拉机     | -2（累计连续碰撞 3 次死亡）                               | 0.9–1.1（警车最快，伴随警报）     |
| **scooter（有人）** | —                   | 0.5s 硬直 + 0.5s 变道延缓 + 1s 视角摇晃                  | 1.2（无视交通规则，在 4 条道路乱变道） |
| **scooter（空）**  | —                   | 自动拾取头盔并骑乘；5 秒内无视障碍（**包括 large car**）；效果总持续 7 秒 | 1.2                    |
| **homeless**    | 2–3 种形象             | 静态；对话框随关卡扩大；撞到本体或对话框 → 强制变道                    | 随背景                    |
| **promoter**    | 共 7 个               | 狂按空格生成纸团（大于等于15下），清除当前车道第一个障碍，<br>传单期间不刷新 large car<br>连按小于15下传单不会消失，保持原装        | 随背景                    |
| **天气系统**        | 水坑 / 大雨糊脸           | 见后续                                          | 随背景       |

## 2. obstacla （需要文案/art）
**1. promoter**
   - level 0: 内容为引导玩家连按空格，可以是发问的方式 (1）
   
   - level1-2: 设定中主角肉体为在医院昏迷濒死状态，但思绪回到了学生时代中的这个时期，可能是这个时期比较美好，传单内容可以采样各位组员喜欢的活动的海报等等，以及幽你一默类型的好评返现的传单等等（设计3个传单）
     
   - level4-5: 设定上在游戏进行到这里，梦境已经处于将破未破的边缘，现实中在让主角烦恼的东西映射到了梦境中，类似于年度绩效表/医院账单/心理量表/etc.. 在这些传单糊脸的时候有概率会出现幻觉，（视觉效果类似于：传单内容飘浮起来（类似于千与千寻中汤婆婆让千寻签名，然后千寻的名字[从纸上浮起来](https://www.bilibili.com/video/BV1e4411n7Xp/?spm_id_from=333.337.search-card.all.click&vd_source=c4ac16453956a80ced7c2d26e731172b) ），传单边缘出现红绿蓝色散，之后一瞬间浮现崩坏/恐怖向的内容   
   ![image](https://github.com/user-attachments/assets/4246bf1d-bf68-4f04-a6fe-cc3368e8bbf0)<br>
但是在实际操作中不确定制作难度和传单在屏幕上时间够不够体现这个效果
连按大于等于15下空格后团成纸团，大约需要3-5张素材，
	1.平整
	2.揉皱剩下3/4的体积
	3.剩下1/2体积
	1. 纸团
	2. 纸团和障碍物碰撞效果

**2. homeless**  
* 0-2使用同一个homeless形象  
* 3和4可以设计1-2个homeless形象，随着时间的推进形象变得越来越体面，和越来越崩坏的梦境越格格不入

## 3. 关卡页面
- 迟到倒计时：   
	为了越走越快的逻辑接上，取消了总路程的进度条，否则无法解释为什么走得快总路程没有相应的消耗得快
-  血量条   
-  buff条： 在触发了加速buff之后出现，buff条的下降对应buff的消退，buff结束后自动消失  
	**倒计时和血量位于画面左侧，并列在一起，buff条和倒计时平行，只在触发时出现。**

## 4.Each level  
### level 0: tutorial  
**duration** : 180s  
**allowed obstacles** : all  
**phases** : 8   
1. phases1 : UI教学<br>
	* 进入l0,灰屏全部，使时间条覆盖发光效果，参考下图中的小鲑鱼  
	![image](https://github.com/user-attachments/assets/ba0bf6fc-60e7-4ebd-b2ad-c2bed8537bbe)
	- 右下角出现主角立绘和对话框 介绍时间条（类似）再不快点就要迟到了
	- 发光效果移动到体力条： 右下角出现立绘和对话框： 介绍体力条：（类似) 昨晚好像睡得很好，感觉能量充沛
2. phases 2 : 屏幕上出现3秒倒计时<br>
3. phases 3 : 小车和咖啡的效果展示<br>
	- 玩家当前位于车道2  强制被高速小车撞 体力条晃动 发出音效 体力值下降 ； 随后街道2上刷新一杯咖啡，屏幕上浮动按键 A D, 其中D上发光，引导玩家拾取咖啡，按d之前画面不会动，拾取后发出buff音效，体力条回满.
4. phases4 ：大车和homeless效果展示（小车，大车，homeless）
	- 街道1刷新一个普通homeless，homeless的浮动对话框：上周有人被大卡车创死了
	- 车道2刷新一个大卡车，同时 A D键位在屏幕上浮动, A键发光跳动， 玩家按a变道之前画面不动
	- 按下a后变道到车道1, 同时右下角出现立绘和对话框： 主角os: 如果撞到homeless也会发生不好的事吧
5. phases5 ： 传单效果展示（小车，大车，传单）
	- 在正常躲避5-7秒之后，被传单糊脸
	- 传单内容： 试试连续按空格
	- 传单团成球需要做3-5帧
	- 纸团立刻向前发射，并消除当前道路第一个障碍物
6. phases6: scooter效果展示
	- 正常躲避7秒，捡到空的scooter
	- 主角立绘和对话框出现在右下角，os: 表达对捡到scooter的欣喜，捡到scooter之后，在跑步的主角背影加上一个头盔，景物加速后退。
	- 同时能量条下scooter图标被点亮
	- 刷新一辆有人的scooter，在4条道路中不停变道，并且和主控交汇
	- 主角立绘和对话框出现， os: 如果没有带头盔的话肯定会被撞得晕头转向的
7. phases7：教学关完成
	- 骑着scooter就直接到终点
8. 出现结算页面
	- 统计：
		- 一共被撞N次
		- 喝了N杯咖啡
		- 幽默文案（Opt）






